import React from 'react';
import { Link, useLocation } from 'react-router-dom';
import './Sidebar.css';
import { useSidebar } from '../context/SidebarContext';

// Main navigation items
const mainItems = [
  { 
    label: 'Home', 
    path: '/',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 20V14H14V20H19V12H22L12 3L2 12H5V20" fill="#606060" />
    </svg> 
  },
  { 
    label: 'Shorts', 
    path: '/shorts',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 14.65V9.35L15 12L10 14.65ZM17.77 10.32C18 10.72 18.1 11.02 18.18 11.22C18.31 11.59 18.38 11.96 18.38 12.38C18.38 12.79 18.31 13.17 18.18 13.55C18.1 13.75 17.97 14.07 17.71 14.5C17.44 14.87 17.12 15.09 16.75 15.29C16.46 15.42 16.12 15.5 15.75 15.5L14.66 15.56C13.9 15.56 13.03 15.58 12 15.58C10.97 15.58 10.1 15.56 9.34 15.56L8.25 15.5C7.88 15.5 7.54 15.42 7.25 15.29C6.88 15.09 6.56 14.87 6.29 14.5C6.03 14.07 5.9 13.75 5.82 13.55C5.69 13.17 5.62 12.79 5.62 12.38C5.62 11.96 5.69 11.59 5.82 11.22C5.9 11.02 6 10.72 6.23 10.32C6.5 9.91 6.82 9.57 7.19 9.36C7.5 9.19 7.88 9.07 8.25 9.07L9.34 9C10.1 9 10.97 8.97 12 8.97C13.03 8.97 13.9 9 14.66 9L15.75 9.07C16.12 9.07 16.5 9.19 16.81 9.36C17.18 9.57 17.5 9.91 17.77 10.32ZM19.5 12.38C19.5 11.69 19.41 11.11 19.24 10.54C19.16 10.23 19 9.81 18.69 9.28C18.35 8.7 17.87 8.24 17.36 7.95C16.85 7.65 16.32 7.5 15.75 7.5L14.66 7.43C13.9 7.42 13.03 7.4 12 7.4C10.97 7.4 10.1 7.42 9.34 7.43L8.25 7.5C7.68 7.5 7.15 7.65 6.64 7.95C6.13 8.24 5.65 8.7 5.31 9.28C5 9.81 4.84 10.23 4.76 10.54C4.59 11.11 4.5 11.69 4.5 12.38C4.5 13.07 4.59 13.65 4.76 14.22C4.84 14.53 5 14.95 5.31 15.48C5.65 16.06 6.13 16.51 6.64 16.8C7.15 17.1 7.68 17.26 8.25 17.26L9.34 17.32C10.1 17.33 10.97 17.35 12 17.35C13.03 17.35 13.9 17.33 14.66 17.32L15.75 17.26C16.32 17.26 16.85 17.1 17.36 16.8C17.87 16.51 18.35 16.06 18.69 15.48C19 14.95 19.16 14.53 19.24 14.22C19.41 13.65 19.5 13.07 19.5 12.38Z" fill="#606060"/>
    </svg>
  },
  { 
    label: 'Subscriptions', 
    path: '/subscriptions',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18.7002 8.69995H5.3002V6.99995H18.7002V8.69995ZM17.0002 3.69995H7.0002V5.29995H17.0002V3.69995ZM20.3002 12V18.7C20.3002 19.7 19.6002 20.2999 18.7002 20.2999H5.3002C4.3002 20.2999 3.7002 19.6 3.7002 18.7V12C3.7002 11 4.4002 10.3 5.3002 10.3H18.7002C19.7002 10.3 20.3002 11.1 20.3002 12ZM15.3002 15.3L10.3002 12.6V18L15.3002 15.3Z" fill="#606060"/>
    </svg> 
  },
];

// You section
const youItems = [
  { 
    label: 'Your channel', 
    path: '/channel/your-channel',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12ZM12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" fill="#606060"/>
    </svg>
  },
  { 
    label: 'History', 
    path: '/history',
    icon: <svg width="20" height="17" viewBox="0 0 20 17" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11.396 0C6.67358 0 2.85418 3.81212 2.85418 8.5H0L3.70524 12.1782L3.74676 12.3121L7.58692 8.5H4.7535C4.7535 4.85273 7.73223 1.88545 11.4167 1.88545C15.0908 1.88545 18.0592 4.85273 18.0592 8.5C18.0592 12.1473 15.0908 15.1145 11.4167 15.1145C9.56928 15.1145 7.90867 14.3624 6.70472 13.157L5.35547 14.4964C6.9123 16.0418 9.03996 17 11.4063 17C16.1598 17 20 13.1879 20 8.5C20 3.80182 16.1598 0 11.4271 0H11.396ZM10.4619 4.71879V9.45818L14.5304 11.8279L15.2154 10.6945L11.8941 8.73697V4.71879H10.4619Z" fill="#606060"/>
    </svg> 
  },
  { 
    label: 'Your videos', 
    path: '/studio',
    icon: <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.4001 2.5999V15.3999H2.60014V2.5999H15.4001ZM15.4001 0.799899H2.60014C2.12275 0.799899 1.66492 0.989541 1.32735 1.32711C0.989786 1.66467 0.800143 2.12251 0.800143 2.5999V15.3999C0.78653 15.6446 0.823013 15.8894 0.907356 16.1195C0.991699 16.3495 1.12213 16.56 1.29065 16.7378C1.45917 16.9157 1.66224 17.0573 1.88741 17.154C2.11258 17.2506 2.35511 17.3003 2.60014 17.2999H15.4001C15.6535 17.3144 15.907 17.2752 16.1441 17.1849C16.3812 17.0945 16.5965 16.955 16.7759 16.7756C16.9553 16.5962 17.0947 16.3809 17.1851 16.1438C17.2754 15.9067 17.3147 15.6532 17.3001 15.3999V2.5999C17.3005 2.35486 17.2509 2.11233 17.1542 1.88716C17.0576 1.66199 16.916 1.45893 16.7381 1.2904C16.5602 1.12188 16.3498 0.991455 16.1197 0.907112C15.8897 0.822769 15.6448 0.786286 15.4001 0.799899Z" fill="#606060"/>
      <path d="M7.2002 6V12.5L12.2002 9.3L7.2002 6.1V6Z" fill="#606060"/>
    </svg>
  },
  { 
    label: 'Watch later', 
    path: '/playlist/watch-later',
    icon: <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.99992 0.669922C4.41992 0.669922 0.669922 4.41992 0.669922 8.99992C0.669922 13.5799 4.41992 17.3299 8.99992 17.3299C13.5799 17.3299 17.3299 13.5799 17.3299 8.99992C17.3299 4.41992 13.5799 0.669922 8.99992 0.669922ZM12.4999 12.4999L8.16992 9.82992V4.82992H9.41992V9.16992L13.1699 11.4199L12.4999 12.4999Z" fill="#606060"/>
    </svg>
  },
];

// Explore section
const exploreItems = [
  {
    label: 'Trending',
    path: '/trending',
    icon: <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12.5298 8.2C12.2998 7.9 12.0298 7.64 11.7698 7.38C11.1198 6.78 10.3698 6.35 9.73985 5.72C8.27985 4.26 7.95985 1.85 8.88985 0C7.98985 0.23 7.13984 0.75 6.43985 1.32C3.89985 3.4 2.89985 7.07 4.09985 10.22C4.13985 10.32 4.17985 10.42 4.17985 10.55C4.17985 10.77 4.02985 10.97 3.82985 11.05C3.60985 11.15 3.36985 11.09 3.18985 10.93C3.12985 10.88 3.08985 10.83 3.03985 10.76C1.93985 9.33 1.75985 7.28 2.50985 5.64C0.869846 7 -0.000154719 9.3 0.119845 11.47C0.159845 11.97 0.219845 12.47 0.389845 12.97C0.529845 13.57 0.789846 14.17 1.10985 14.7C2.14985 16.43 3.97985 17.67 5.94985 17.92C8.04985 18.19 10.2998 17.8 11.9098 16.32C13.7098 14.66 14.3598 12.02 13.4098 9.72L13.2798 9.46C13.0798 9.01 12.8098 8.59 12.4998 8.21L12.5298 8.2ZM9.42985 14.5C9.14985 14.74 8.69985 15 8.34985 15.1C7.24985 15.48 6.14985 14.94 5.46985 14.28C6.66985 14 7.36985 13.12 7.56985 12.23C7.73985 11.43 7.42985 10.77 7.29985 10C7.17985 9.26 7.19985 8.63 7.49985 7.94C7.64985 8.32 7.84985 8.7 8.07985 9C8.83985 10 10.0298 10.44 10.2798 11.8C10.3198 11.94 10.3398 12.08 10.3398 12.23C10.3698 13.05 10.0198 13.95 9.41985 14.49L9.42985 14.5Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Shopping',
    path: '/shopping',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7 18C5.9 18 5.01 18.9 5.01 20C5.01 21.1 5.9 22 7 22C8.1 22 9 21.1 9 20C9 18.9 8.1 18 7 18ZM17 18C15.9 18 15.01 18.9 15.01 20C15.01 21.1 15.9 22 17 22C18.1 22 19 21.1 19 20C19 18.9 18.1 18 17 18ZM7.17 14.75L7.2 14.63L8.1 13H15.55C16.3 13 16.96 12.59 17.3 11.97L21.16 5.96L19.42 5L15.55 11H8.53L4.27 2H1V4H3L6.6 11.59L5.25 14.04C5.09 14.32 5 14.65 5 15C5 16.1 5.9 17 7 17H19V15H7.42C7.29 15 7.17 14.89 7.17 14.75Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Music',
    path: '/music',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 4V20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16 12L16 7H14V14H8V16H16V12Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Movies & TV',
    path: '/movies',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M22.01 4.91L17.09 0L13.91 3.18L18.83 8.1L22.01 4.91ZM8.1 13.9L13.02 18.82L21.9 9.93L16.97 5.01L8.1 13.9ZM5.93 17.88L2 21.8V18.17L5.93 14.25V17.88ZM0 15.05V23H7.95L0 15.05Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Live',
    path: '/live',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z" fill="#606060"/>
      <path d="M8.5 12C8.5 12.83 8.67 13.58 8.96 14.26L10.97 12.94C10.96 12.64 11 12.33 11.09 12.03C11.38 11.11 12.13 10.45 13.07 10.24L11.25 7.9C9.56 8.72 8.5 10.26 8.5 12Z" fill="#606060"/>
      <path d="M12 8.5C11.17 8.5 10.42 8.67 9.74 8.96L11.06 10.97C11.36 10.96 11.67 11 11.97 11.09C12.89 11.38 13.55 12.13 13.76 13.07L16.1 11.25C15.28 9.56 13.74 8.5 12 8.5Z" fill="#606060"/>
      <path d="M12 15.5C12.83 15.5 13.58 15.33 14.26 15.04L12.94 13.03C12.64 13.04 12.33 13 12.03 12.91C11.11 12.62 10.45 11.87 10.24 10.93L7.9 12.75C8.72 14.45 10.25 15.5 12 15.5Z" fill="#606060"/>
      <path d="M15.5 12C15.5 11.17 15.33 10.42 15.04 9.74L13.03 11.06C13.04 11.36 13 11.67 12.91 11.97C12.62 12.89 11.87 13.55 10.93 13.76L12.75 16.1C14.45 15.28 15.5 13.74 15.5 12Z" fill="#606060"/>
      <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Gaming',
    path: '/gaming',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 12H8V14H6V12H4V10H6V8H8V10H10V12ZM17 12.5C17 11.67 17.67 11 18.5 11C19.33 11 20 11.67 20 12.5C20 13.33 19.33 14 18.5 14C17.67 14 17 13.33 17 12.5ZM15 8C15 7.17 15.67 6.5 16.5 6.5C17.33 6.5 18 7.17 18 8C18 8.83 17.33 9.5 16.5 9.5C15.67 9.5 15 8.83 15 8ZM22 8.5V15.5C22 17.71 20.21 19.5 18 19.5H6C3.79 19.5 2 17.71 2 15.5V8.5C2 6.29 3.79 4.5 6 4.5H18C20.21 4.5 22 6.29 22 8.5ZM19 8.5C19 7.4 18.1 6.5 17 6.5H7C5.9 6.5 5 7.4 5 8.5V15.5C5 16.6 5.9 17.5 7 17.5H17C18.1 17.5 19 16.6 19 15.5V8.5Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'News',
    path: '/news',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M21 5H3C2.45 5 2 5.45 2 6V18C2 18.55 2.45 19 3 19H21C21.55 19 22 18.55 22 18V6C22 5.45 21.55 5 21 5ZM11 17H4V6H11V17ZM14 17V13H20V17H14ZM20 11H14V6H20V11Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Sports',
    path: '/sports',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18 5V2H6V5H4C3.45 5 3 5.45 3 6V11C3 11.55 3.45 12 4 12H6V19C6 19.55 6.45 20 7 20H17C17.55 20 18 19.55 18 19V12H20C20.55 12 21 11.55 21 11V6C21 5.45 20.55 5 20 5H18ZM8 4H16V5H8V4ZM16 18H8V12H16V18ZM19 10H5V7H19V10ZM16 8.5C16 8.78 15.78 9 15.5 9C15.22 9 15 8.78 15 8.5C15 8.22 15.22 8 15.5 8C15.78 8 16 8.22 16 8.5ZM18 8.5C18 8.78 17.78 9 17.5 9C17.22 9 17 8.78 17 8.5C17 8.22 17.22 8 17.5 8C17.78 8 18 8.22 18 8.5Z" fill="#606060"/>
    </svg>
  },
];

// More from YouTube section
const moreYouTubeItems = [
  {
    label: 'YouTube Premium',
    path: '/premium',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 9.35L15 12L10 14.65V9.35ZM12 3C5.9 3 1 4.9 1 7.5V16.5C1 19.1 5.9 21 12 21C18.1 21 23 19.1 23 16.5V7.5C23 4.9 18.1 3 12 3ZM21 16.5C21 17.7 17.1 19 12 19C6.9 19 3 17.7 3 16.5V13.9C5.3 15.2 8.7 16 12 16C15.3 16 18.7 15.2 21 13.9V16.5ZM21 11.8C21 13 17.1 14.3 12 14.3C6.9 14.3 3 13 3 11.8V9.3C5.3 10.6 8.7 11.3 12 11.3C15.3 11.3 18.7 10.6 21 9.3V11.8ZM12 9.5C6.9 9.5 3 8.2 3 7C3 5.8 6.9 4.5 12 4.5C17.1 4.5 21 5.8 21 7C21 8.2 17.1 9.5 12 9.5Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'YouTube Studio',
    path: '/studio',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M16 4C16 2.9 16.9 2 18 2C19.1 2 20 2.9 20 4C20 5.1 19.1 6 18 6C16.9 6 16 5.1 16 4ZM20.78 7.58C19.93 7.21 18.99 7 18 7C17.33 7 16.69 7.1 16.08 7.28C15.85 7.36 15.62 7.46 15.39 7.58C18.14 8.5 20 11.04 20 14C20 15.43 19.57 16.76 18.83 17.88C19.39 18.31 20.1 18.56 20.82 18.56C22.34 18.56 23.58 17.32 23.58 15.8C23.58 14.16 21.97 12.29 20.78 7.58ZM15 10C15 11.66 13.66 13 12 13C10.34 13 9 11.66 9 10C9 8.34 10.34 7 12 7C13.66 7 15 8.34 15 10ZM18 14C18 10.7 15.3 8 12 8C8.7 8 6 10.7 6 14C6 17.3 8.7 20 12 20C15.3 20 18 17.3 18 14ZM4 14C4 11.04 5.86 8.5 8.61 7.58C8.38 7.46 8.15 7.36 7.92 7.28C7.31 7.1 6.67 7 6 7C5.01 7 4.07 7.21 3.22 7.58C2.03 12.29 0.42 14.16 0.42 15.8C0.42 17.31 1.66 18.55 3.17 18.55C3.9 18.55 4.6 18.31 5.17 17.88C4.43 16.77 4 15.43 4 14Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'YouTube Music',
    path: '/music',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 9.35L15 12L10 14.65V9.35ZM12 3C5.9 3 1 4.9 1 7.5V16.5C1 19.1 5.9 21 12 21C18.1 21 23 19.1 23 16.5V7.5C23 4.9 18.1 3 12 3ZM21 16.5C21 17.7 17.1 19 12 19C6.9 19 3 17.7 3 16.5V13.9C5.3 15.2 8.7 16 12 16C15.3 16 18.7 15.2 21 13.9V16.5ZM21 11.8C21 13 17.1 14.3 12 14.3C6.9 14.3 3 13 3 11.8V9.3C5.3 10.6 8.7 11.3 12 11.3C15.3 11.3 18.7 10.6 21 9.3V11.8ZM12 9.5C6.9 9.5 3 8.2 3 7C3 5.8 6.9 4.5 12 4.5C17.1 4.5 21 5.8 21 7C21 8.2 17.1 9.5 12 9.5Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'YouTube Kids',
    path: '/kids',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M21 16.5C21 17.38 20.38 18 19.5 18H13V19.5H16V21H8V19.5H11V18H4.5C3.62 18 3 17.38 3 16.5V4.5C3 3.62 3.62 3 4.5 3H19.5C20.38 3 21 3.62 21 4.5V16.5ZM19 15.5V6.5H5V15.5H19ZM9.5 7.5H14.5V12.5H9.5V7.5ZM15.5 7.5H18V9H15.5V7.5ZM18 10.5V14.5H15.5V10.5H18ZM9 14.5H6V13H9V14.5ZM9 11.5H6V10H9V11.5ZM9 9H6V7.5H9V9Z" fill="#606060"/>
    </svg>
  },
];

// Playlists section
const playlistsItems = [
  {
    label: 'Liked videos',
    path: '/playlist/liked-videos',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M3.75 18.75H6.75V9.75H3.75V18.75ZM20.25 10.5C20.25 9.67 19.57 9 18.75 9H14.02L14.72 5.57L14.75 5.33C14.75 5.03 14.62 4.73 14.42 4.53L13.62 3.75L8.7 8.7C8.4 8.96 8.25 9.34 8.25 9.75V17.25C8.25 18.07 8.92 18.75 9.75 18.75H16.5C17.12 18.75 17.65 18.37 17.88 17.85L20.15 12.55C20.21 12.37 20.25 12.19 20.25 12V10.5Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Watch later',
    path: '/playlist/watch-later',
    icon: <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8.99992 0.669922C4.41992 0.669922 0.669922 4.41992 0.669922 8.99992C0.669922 13.5799 4.41992 17.3299 8.99992 17.3299C13.5799 17.3299 17.3299 13.5799 17.3299 8.99992C17.3299 4.41992 13.5799 0.669922 8.99992 0.669922ZM12.4999 12.4999L8.16992 9.82992V4.82992H9.41992V9.16992L13.1699 11.4199L12.4999 12.4999Z" fill="#606060"/>
    </svg>
  },
];

// Settings section
const settingsItems = [
  {
    label: 'Settings',
    path: '/settings',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M19.14 12.94C19.18 12.64 19.2 12.33 19.2 12C19.2 11.68 19.18 11.36 19.13 11.06L21.16 9.47C21.34 9.33 21.39 9.07 21.28 8.87L19.36 5.54C19.24 5.33 18.99 5.26 18.77 5.33L16.38 6.29C15.88 5.91 15.35 5.59 14.76 5.35L14.4 2.81C14.36 2.57 14.16 2.4 13.92 2.4H10.08C9.84 2.4 9.65 2.57 9.61 2.81L9.25 5.35C8.66 5.59 8.12 5.92 7.63 6.29L5.24 5.33C5.02 5.25 4.77 5.33 4.65 5.54L2.74 8.87C2.62 9.08 2.66 9.33 2.86 9.47L4.89 11.06C4.84 11.36 4.8 11.69 4.8 12C4.8 12.31 4.82 12.64 4.87 12.94L2.84 14.53C2.66 14.67 2.61 14.93 2.72 15.13L4.64 18.46C4.76 18.67 5.01 18.74 5.23 18.67L7.62 17.71C8.12 18.09 8.65 18.41 9.24 18.65L9.6 21.19C9.65 21.43 9.84 21.6 10.08 21.6H13.92C14.16 21.6 14.36 21.43 14.39 21.19L14.75 18.65C15.34 18.41 15.88 18.09 16.37 17.71L18.76 18.67C18.98 18.75 19.23 18.67 19.35 18.46L21.27 15.13C21.39 14.92 21.34 14.67 21.15 14.53L19.14 12.94ZM12 15.6C10.02 15.6 8.4 13.98 8.4 12C8.4 10.02 10.02 8.4 12 8.4C13.98 8.4 15.6 10.02 15.6 12C15.6 13.98 13.98 15.6 12 15.6Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Report history',
    path: '/report-history',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M13.18 4L13.94 5.54L15.06 4.33L13.94 3.2L15.04 2L14.06 1L12 3.16L13.18 4ZM7 8L8.8 6.2L7.47 5L6 6.47L7 8ZM8.76 16.74L6.64 15.55L5 19L8.58 17.31L8.76 16.74ZM18.04 12.19L19.93 10.3L16.67 7.03L14.77 8.93L12.53 6.7L9.26 9.96L11.5 12.2L10.24 13.46L10.05 15.47L12.05 15.28L13.32 14.01L16 16.68L19.27 13.41L18.04 12.19ZM14.02 8.93L15.12 7.83L15.74 8.45L14.64 9.55L14.02 8.93ZM18.4 15.17L16.5 17.07L15.4 15.97L17.3 14.07L18.4 15.17ZM12.93 13.93L11.84 15.02L11.76 15.82L10.96 15.9L9.87 16.99L9.25 16.37L10.35 15.27L10.43 14.47L11.23 14.39L12.32 13.3L12.93 13.93Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Help',
    path: '/help',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.36 9.96C15.36 12.57 13.82 13.96 10.6 15.67V16.39C10.6 16.66 10.53 16.89 10.42 17.06C10.3 17.24 10.12 17.33 9.88 17.33C9.64 17.33 9.45 17.23 9.32 17.04C9.19 16.84 9.13 16.61 9.13 16.36V14.75C9.13 14.42 9.23 14.16 9.42 13.99C9.61 13.82 9.89 13.65 10.25 13.48C11.22 13 11.86 12.61 12.17 12.32C12.47 12.03 12.62 11.64 12.62 11.15C12.62 10.55 12.42 10.12 12.03 9.83C11.63 9.56 10.89 9.42 9.8 9.42C9.35 9.42 8.8 9.45 8.15 9.5C7.5 9.56 7.02 9.61 6.71 9.66C6.53 9.69 6.37 9.63 6.23 9.49C6.09 9.36 6.02 9.2 6.02 9.01C6.02 8.83 6.08 8.69 6.21 8.57C6.33 8.46 6.54 8.38 6.83 8.32C7.22 8.24 7.69 8.18 8.26 8.14C8.82 8.1 9.34 8.08 9.82 8.08C12.33 8.08 13.59 8.95 13.59 10.69C13.58 10.97 13.5 11.25 13.37 11.53C13.25 11.81 13.08 12.04 12.87 12.21C12.67 12.38 12.43 12.54 12.14 12.68C11.85 12.82 11.57 12.95 11.31 13.07C10.86 13.28 10.47 13.45 10.14 13.59C9.82 13.73 9.66 13.85 9.66 13.96H13.15C13.39 13.96 13.58 14.06 13.71 14.24C13.85 14.42 13.92 14.65 13.92 14.92C13.92 15.18 13.85 15.4 13.71 15.58C13.58 15.76 13.39 15.85 13.15 15.85H9.08C8.58 15.85 8.24 15.74 8.03 15.53C7.83 15.31 7.73 14.96 7.73 14.5V14.24L8.15 13.46C8.15 13.39 8.14 13.3 8.12 13.22C8.09 13.14 8.06 13.05 8.02 12.97C7.95 12.83 7.84 12.71 7.7 12.63C7.56 12.55 7.41 12.51 7.26 12.51C7.07 12.51 6.9 12.58 6.77 12.71C6.64 12.84 6.56 13.02 6.54 13.24C6.42 14.68 6.97 15.72 8.19 16.37C8.86 16.72 9.69 16.89 10.67 16.89C12.11 16.89 13.18 16.56 13.88 15.91C14.58 15.25 14.94 14.4 14.94 13.36C14.94 12.97 14.9 12.59 14.81 12.25C14.71 11.91 14.56 11.61 14.35 11.34C14.14 11.08 13.87 10.86 13.54 10.69C13.22 10.52 12.81 10.43 12.31 10.43C12.35 10.32 12.41 10.23 12.5 10.14C12.59 10.06 12.68 9.98 12.78 9.92C12.88 9.86 12.99 9.82 13.1 9.79C13.2 9.76 13.3 9.74 13.38 9.74C13.75 9.74 14.07 9.85 14.34 10.06C14.6 10.27 14.79 10.57 14.9 10.97C15.14 10.76 15.25 10.45 15.25 10.06C15.25 9.73 15.16 9.41 14.97 9.11C14.78 8.8 14.45 8.55 13.97 8.36C13.49 8.17 12.85 8.08 12.04 8.08C11.23 8.08 10.56 8.25 10.05 8.58C9.53 8.91 9.27 9.32 9.27 9.82C9.27 10.25 9.47 10.6 9.88 10.86C9.98 10.92 10.13 10.97 10.34 11.01C10.55 11.05 10.74 11.07 10.93 11.07H11.07C11 11.12 10.93 11.19 10.86 11.27C10.79 11.34 10.75 11.45 10.75 11.58C10.75 11.74 10.82 11.87 10.95 11.97C11.08 12.07 11.25 12.12 11.44 12.12C11.7 12.12 11.92 12.08 12.1 11.99C12.27 11.91 12.44 11.8 12.58 11.68C12.72 11.55 12.83 11.41 12.92 11.25C13.01 11.09 13.07 10.93 13.11 10.77C13.2 10.47 13.25 10.2 13.25 9.96H15.36Z" fill="#606060"/>
      <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="#606060"/>
    </svg>
  },
  {
    label: 'Send feedback',
    path: '/feedback',
    icon: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16ZM11 12H13V14H11V12ZM11 6H13V10H11V6Z" fill="#606060"/>
    </svg>
  }
];

export default function Sidebar() {
  const location = useLocation();
  const { isSidebarCollapsed } = useSidebar();

  // Function to render a section of sidebar items
  const renderSection = (items, title = null) => (
    <div className="sidebar-section">
      {title && <h3 className="sidebar-section-title">{title}</h3>}
      {items.map((item, idx) => {
        // Check if the current path matches this item's path
        const isActive = location.pathname === item.path || 
                        (item.path !== '/' && location.pathname.startsWith(item.path));
        
        return (
          <Link 
            key={idx} 
            to={item.path} 
            className={`sidebar-item ${isActive ? 'active' : ''}`}
          >
            <div className="sidebar-icon">{item.icon}</div>
            <span className="nav-text">{item.label}</span>
          </Link>
        );
      })}
    </div>
  );

  return (
    <div className={`sidebar ${isSidebarCollapsed ? 'collapsed' : ''}`}>
      {renderSection(mainItems)}
      {renderSection(youItems, 'You')}
      {renderSection(exploreItems, 'Explore')}
      {renderSection(moreYouTubeItems, 'More from YouTube')}
      {renderSection(playlistsItems, 'Playlists')}
      <div className="sidebar-footer">
        {renderSection(settingsItems)}
        <div className="sidebar-footer-links">
          <Link to="/about">About</Link>
          <Link to="/press">Press</Link>
          <Link to="/copyright">Copyright</Link>
          <Link to="/contact">Contact</Link>
          <Link to="/creators">Creators</Link>
          <Link to="/advertise">Advertise</Link>
          <Link to="/developers">Developers</Link>
        </div>
        <div className="sidebar-footer-links">
          <Link to="/terms">Terms</Link>
          <Link to="/privacy">Privacy</Link>
          <Link to="/policy-safety">Policy & Safety</Link>
          <Link to="/how-youtube-works">How YouTube works</Link>
          <Link to="/test-features">Test new features</Link>
        </div>
        <div className="sidebar-copyright">
          Â© 2025 Google LLC
        </div>
      </div>
    </div>
  );
}